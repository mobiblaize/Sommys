function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Rpy1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("8Y7J"),s=n("lGQG"),a=n("iInd"),i=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._authService=t,this._router=n}return _createClass(e,[{key:"canActivate",value:function(){return!!this._authService.loggedIn()||(this._router.navigate(["admin/login"]),!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](s.a),r["\u0275\u0275inject"](a.f))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},jkDv:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",(function(){return Y}));var r,s,a,i=n("SVse"),o=n("s7LF"),l=n("8Y7J"),m=((r=function e(){_classCallCheck(this,e)}).\u0275mod=l["\u0275\u0275defineNgModule"]({type:r}),r.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||r)},imports:[[i.CommonModule]]}),r),c=n("iInd"),d=n("IheW"),u=n("4XAN"),g=((s=function(){function e(t,n){_classCallCheck(this,e),this.router=t,this.authService=n,this.user={}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authService.getProfile().subscribe((function(t){e.user=t}),(function(t){t instanceof d.d&&401===t.status&&e.router.navigate(["/admin/login"]),console.log(t)}))}}]),e}()).\u0275fac=function(e){return new(e||s)(l["\u0275\u0275directiveInject"](c.f),l["\u0275\u0275directiveInject"](u.a))},s.\u0275cmp=l["\u0275\u0275defineComponent"]({type:s,selectors:[["app-admin"]],decls:7,vars:1,consts:[[1,"section-admin"],[1,"container"],[1,"row","justify-content-center"],[1,"long-copy"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"section",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"h2"),l["\u0275\u0275text"](4),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](5,"p",3),l["\u0275\u0275text"](6,"Manage sommy's catering from this dashboard. Check the orders tab to view your list of orders and messages to view your users feedback"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate1"](" Welcome ",t.user.name,""))},styles:[".section-admin[_ngcontent-%COMP%]{min-height:100vh;background-color:#f4f4f4}"]}),s),p=n("/Qy7"),f=((a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=l["\u0275\u0275defineComponent"]({type:a,selectors:[["app-message-item"]],inputs:{message:"message"},decls:20,vars:9,consts:[[1,"row","justify-content-center","mt-4"],[1,"col-sm-12","col-md-10","col-lg-9"],[1,"list-group","pb-2"],[1,"list-group-item","list-group-item-secondary"],[1,"list-group-item"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"ul",2),l["\u0275\u0275elementStart"](3,"li",3),l["\u0275\u0275elementStart"](4,"h3"),l["\u0275\u0275elementStart"](5,"span"),l["\u0275\u0275text"](6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"li",4),l["\u0275\u0275text"](8,"Email: "),l["\u0275\u0275elementStart"](9,"span"),l["\u0275\u0275text"](10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"li",4),l["\u0275\u0275text"](12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"li",4),l["\u0275\u0275text"](14),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"li",4),l["\u0275\u0275text"](16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"li",4),l["\u0275\u0275text"](18),l["\u0275\u0275pipe"](19,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate"](t.message.name),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](t.message.email),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("Subscriber: ",t.message.news,""),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("Find us: ",t.message.findUs,""),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("Message: ",t.message.message,""),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"]("Date: ",l["\u0275\u0275pipeBind2"](19,6,t.message.date,"shortDate"),""))},pipes:[i.DatePipe],styles:[".section-admin[_ngcontent-%COMP%]{min-height:100vh;background-color:#f4f4f4}input[type=search][_ngcontent-%COMP%]{width:100%;padding:7px;border-radius:3px;border:1px solid #ccc}"]}),a);function v(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",14),l["\u0275\u0275text"](1,"No messages yet"),l["\u0275\u0275elementEnd"]())}function h(e,t){1&e&&l["\u0275\u0275element"](0,"app-message-item",15),2&e&&l["\u0275\u0275property"]("message",t.$implicit)}function y(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",16),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().moreMessages()})),l["\u0275\u0275text"](1,"More"),l["\u0275\u0275elementEnd"]()}}var S,b=((S=function(){function e(t,n,r){_classCallCheck(this,e),this.progress=t,this.router=n,this.authService=r,this.messages=[],this.query="",this.moreBtnActive=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.progressRef=this.progress.ref("myProgress"),this.moreBtnActive=!0,this.authService.getMessages({size:this.messages.length}).subscribe((function(t){e.messages=e.messages.concat(t.messages),0==t.messages.length&&(e.moreBtnActive=!1)}),(function(t){console.log(t),t instanceof d.d&&401===t.status&&e.router.navigate(["/admin/login"])}))}},{key:"searchMessage",value:function(){var e=this,t={query:this.query};this.progressRef.start(),this.authService.searchMessages(t).subscribe((function(t){e.messages=t.messages,e.progressRef.complete()}),(function(t){console.log(t),e.progressRef.complete(),t instanceof d.d&&401===t.status&&e.router.navigate(["/admin/login"])}))}},{key:"moreMessages",value:function(){var e=this;this.authService.getMessages({size:this.messages.length}).subscribe((function(t){e.messages=e.messages.concat(t.messages),0==t.messages.length&&(e.moreBtnActive=!1)}),(function(t){console.log(t),t instanceof d.d&&401===t.status&&e.router.navigate(["/admin/login"])}))}}]),e}()).\u0275fac=function(e){return new(e||S)(l["\u0275\u0275directiveInject"](p.a),l["\u0275\u0275directiveInject"](c.f),l["\u0275\u0275directiveInject"](u.a))},S.\u0275cmp=l["\u0275\u0275defineComponent"]({type:S,selectors:[["app-messages"]],decls:16,vars:4,consts:[[1,"section-admin"],[1,"container"],["action","/admin/messages/search",1,"search-form"],[1,"row","justify-content-center"],[1,"col-sm-12","col-md-10","col-lg-8","col-xl-7"],[1,"row"],[1,"col-sm-12","col-md-10","pr-3"],["type","search","name","term","placeholder","Type sender's name",1,"mb-2",3,"ngModel","ngModelChange"],[1,"col"],["type","submit","value","Search",1,"btn","btn-sm","btn-primary","btn-full",3,"click"],["class","long-copy",4,"ngIf"],[3,"message",4,"ngFor","ngForOf"],[1,"text-center"],["class","btn btn-secondary mt-2",3,"click",4,"ngIf"],[1,"long-copy"],[3,"message"],[1,"btn","btn-secondary","mt-2",3,"click"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"section",0),l["\u0275\u0275elementStart"](1,"h2"),l["\u0275\u0275text"](2,"Messages"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",1),l["\u0275\u0275elementStart"](4,"form",2),l["\u0275\u0275elementStart"](5,"div",3),l["\u0275\u0275elementStart"](6,"div",4),l["\u0275\u0275elementStart"](7,"div",5),l["\u0275\u0275elementStart"](8,"div",6),l["\u0275\u0275elementStart"](9,"input",7),l["\u0275\u0275listener"]("ngModelChange",(function(e){return t.query=e})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"div",8),l["\u0275\u0275elementStart"](11,"input",9),l["\u0275\u0275listener"]("click",(function(){return t.searchMessage()})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](12,v,2,0,"div",10),l["\u0275\u0275template"](13,h,1,1,"app-message-item",11),l["\u0275\u0275elementStart"](14,"div",12),l["\u0275\u0275template"](15,y,2,0,"button",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngModel",t.query),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",!(t.messages.length>0)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.messages),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.moreBtnActive))},directives:[o.r,o.i,o.j,o.b,o.h,o.k,i.NgIf,i.NgForOf,f],styles:[".section-admin[_ngcontent-%COMP%]{min-height:100vh;background-color:#f4f4f4}input[type=search][_ngcontent-%COMP%]{width:100%;padding:7px;border-radius:3px;border:1px solid #ccc}"]}),S),E=n("bvlS");function x(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",14),l["\u0275\u0275text"](1,"No orders yet"),l["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",15),l["\u0275\u0275elementStart"](1,"div",16),l["\u0275\u0275elementStart"](2,"ul",17),l["\u0275\u0275elementStart"](3,"li",18),l["\u0275\u0275elementStart"](4,"h3"),l["\u0275\u0275elementStart"](5,"span"),l["\u0275\u0275text"](6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"li",18),l["\u0275\u0275text"](8,"Email: "),l["\u0275\u0275elementStart"](9,"span"),l["\u0275\u0275text"](10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"li",18),l["\u0275\u0275text"](12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"li",18),l["\u0275\u0275text"](14),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"li",18),l["\u0275\u0275text"](16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"li",18),l["\u0275\u0275text"](18),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](19,"li",18),l["\u0275\u0275text"](20),l["\u0275\u0275pipe"](21,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"li",18),l["\u0275\u0275text"](23),l["\u0275\u0275pipe"](24,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](25,"form"),l["\u0275\u0275elementStart"](26,"input",19,20),l["\u0275\u0275listener"]("click",(function(){l["\u0275\u0275restoreView"](n);var e=t.index,r=l["\u0275\u0275reference"](27);return l["\u0275\u0275nextContext"]().delivered(e,r)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit;l["\u0275\u0275advance"](3),l["\u0275\u0275classProp"]("list-group-item-success",r.delivered),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](r.name),l["\u0275\u0275advance"](1),l["\u0275\u0275classProp"]("list-group-item-success",r.delivered),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](r.email),l["\u0275\u0275advance"](1),l["\u0275\u0275classProp"]("list-group-item-success",r.delivered),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("Phone: ",r.phone,""),l["\u0275\u0275advance"](1),l["\u0275\u0275classProp"]("list-group-item-success",r.delivered),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("Location: ",r.location,""),l["\u0275\u0275advance"](1),l["\u0275\u0275classProp"]("list-group-item-success",r.delivered),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("Pastry: ",r.pastry,""),l["\u0275\u0275advance"](1),l["\u0275\u0275classProp"]("list-group-item-success",r.delivered),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("Size: ",r.size,""),l["\u0275\u0275advance"](1),l["\u0275\u0275classProp"]("list-group-item-success",r.delivered),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("Order date: ",l["\u0275\u0275pipeBind2"](21,26,r.orderDate,"shortDate"),""),l["\u0275\u0275advance"](2),l["\u0275\u0275classProp"]("list-group-item-success",r.delivered),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"]("Delivery-date: ",l["\u0275\u0275pipeBind2"](24,29,r.deliveryDate,"shortDate"),""),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngClass",r.delivered?"btn-success":"btn-primary")("value",r.delivered?"Delivered":"Pending")}}function C(e,t){if(1&e){var n=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",21),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](n),l["\u0275\u0275nextContext"]().moreOrders()})),l["\u0275\u0275text"](1,"More"),l["\u0275\u0275elementEnd"]()}}var I,M=((I=function(){function e(t,n,r,s){_classCallCheck(this,e),this.progress=t,this.router=n,this.flashMessage=r,this.authAdminService=s,this.orders=[],this.query="",this.moreBtnActive=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.progressRef=this.progress.ref("myProgress"),this.moreBtnActive=!0,this.authAdminService.getOrders({size:this.orders.length}).subscribe((function(t){e.orders=e.orders.concat(t.orders),0==t.orders.length&&(e.moreBtnActive=!1)}),(function(t){t instanceof d.d&&401===t.status&&e.router.navigate(["/admin/login"]),console.log(t)}))}},{key:"searchOrders",value:function(){var e=this,t={query:this.query};this.progressRef.start(),this.authAdminService.searchOrders(t).subscribe((function(t){e.orders=t.orders,e.progressRef.complete(),e.moreBtnActive=!1}),(function(t){console.log(t),e.progressRef.complete(),t instanceof d.d&&401===t.status&&e.router.navigate(["/admin/login"])}))}},{key:"delivered",value:function(e,t){var n=this,r={id:this.orders[e]._id,delivered:!this.orders[e].delivered};t.disabled=!0,this.progressRef.start(),this.authAdminService.deliverOrder(r).subscribe((function(r){n.orders[e]=r.order,r.order.delivered?n.flashMessage.show("Order status: Delivered",{cssClass:"alert-success mb-0",timeout:1e3}):n.flashMessage.show("Order status: Pending",{cssClass:"alert-secondary mb-0",timeout:1e3}),n.progressRef.complete(),t.disabled=!1}),(function(e){console.log(e),n.progressRef.complete(),t.disabled=!1,e instanceof d.d&&401===e.status&&n.router.navigate(["/admin/login"])}))}},{key:"moreOrders",value:function(){var e=this;this.authAdminService.getOrders({size:this.orders.length}).subscribe((function(t){e.orders=e.orders.concat(t.orders),0==t.orders.length&&(e.moreBtnActive=!1)}),(function(t){console.log(t),t instanceof d.d&&401===t.status&&e.router.navigate(["/admin/login"])}))}}]),e}()).\u0275fac=function(e){return new(e||I)(l["\u0275\u0275directiveInject"](p.a),l["\u0275\u0275directiveInject"](c.f),l["\u0275\u0275directiveInject"](E.FlashMessagesService),l["\u0275\u0275directiveInject"](u.a))},I.\u0275cmp=l["\u0275\u0275defineComponent"]({type:I,selectors:[["app-orders"]],decls:16,vars:4,consts:[[1,"section-admin"],[1,"container"],["action","/admin/messages/search",1,"search-form"],[1,"row","justify-content-center"],[1,"col-sm-12","col-md-10","col-lg-8","col-xl-7"],[1,"row"],[1,"col-sm-12","col-md-10","pr-3"],["type","search","name","term","placeholder","Type sender's name",1,"mb-2",3,"ngModel","ngModelChange"],[1,"col"],["type","submit","value","Search",1,"btn","btn-sm","btn-primary","btn-full",3,"click"],["class","long-copy",4,"ngIf"],["class","row justify-content-center mt-4",4,"ngFor","ngForOf"],[1,"text-center"],["class","btn btn-secondary mt-2",3,"click",4,"ngIf"],[1,"long-copy"],[1,"row","justify-content-center","mt-4"],[1,"col-sm-12","col-md-10","col-lg-9"],[1,"list-group","pb-2"],[1,"list-group-item"],["type","submit",1,"btn","btn-sm","btn-full",3,"ngClass","value","click"],["deliverBtn",""],[1,"btn","btn-secondary","mt-2",3,"click"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"section",0),l["\u0275\u0275elementStart"](1,"h2"),l["\u0275\u0275text"](2,"Orders"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"div",1),l["\u0275\u0275elementStart"](4,"form",2),l["\u0275\u0275elementStart"](5,"div",3),l["\u0275\u0275elementStart"](6,"div",4),l["\u0275\u0275elementStart"](7,"div",5),l["\u0275\u0275elementStart"](8,"div",6),l["\u0275\u0275elementStart"](9,"input",7),l["\u0275\u0275listener"]("ngModelChange",(function(e){return t.query=e})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"div",8),l["\u0275\u0275elementStart"](11,"input",9),l["\u0275\u0275listener"]("click",(function(){return t.searchOrders()})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](12,x,2,0,"div",10),l["\u0275\u0275template"](13,w,28,32,"div",11),l["\u0275\u0275elementStart"](14,"div",12),l["\u0275\u0275template"](15,C,2,0,"button",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](9),l["\u0275\u0275property"]("ngModel",t.query),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",!(t.orders.length>0)),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngForOf",t.orders),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",t.moreBtnActive))},directives:[o.r,o.i,o.j,o.b,o.h,o.k,i.NgIf,i.NgForOf,i.NgClass],pipes:[i.DatePipe],styles:[".section-admin[_ngcontent-%COMP%]{min-height:100vh;background-color:#f4f4f4}input[type=search][_ngcontent-%COMP%]{width:100%;padding:7px;border-radius:3px;border:1px solid #ccc}"]}),I);function k(e){var t=e.get("password"),n=e.get("confirmPassword");return t.pristine||n.pristine?null:t&&n&&t.value!=n.value?{misMatch:!0}:null}function F(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"small",19),l["\u0275\u0275text"](1,"Enter your name"),l["\u0275\u0275elementEnd"]())}function P(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"small",19),l["\u0275\u0275text"](1,"Enter a valid name"),l["\u0275\u0275elementEnd"]())}function j(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275template"](1,F,2,0,"small",15),l["\u0275\u0275template"](2,P,2,0,"small",15),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==n.registerForm.get("name").errors?null:n.registerForm.get("name").errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==n.registerForm.get("name").errors?null:n.registerForm.get("name").errors.minlength)}}function _(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"small",19),l["\u0275\u0275text"](1,"Email is required"),l["\u0275\u0275elementEnd"]())}function O(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"small",19),l["\u0275\u0275text"](1,"Enter a valid email"),l["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275template"](1,_,2,0,"small",15),l["\u0275\u0275template"](2,O,2,0,"small",15),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==n.registerForm.get("email").errors?null:n.registerForm.get("email").errors.required),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==n.registerForm.get("email").errors?null:n.registerForm.get("email").errors.pattern)}}function q(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"small",19),l["\u0275\u0275text"](1,"Password is required"),l["\u0275\u0275elementEnd"]())}function N(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"small",19),l["\u0275\u0275text"](1,"Passwords do not match"),l["\u0275\u0275elementEnd"]())}var R,B=((R=function(){function e(t,n,r,s){_classCallCheck(this,e),this.fb=t,this.authService=n,this.router=r,this.flashMessage=s,this.registerForm=this.fb.group({name:["",[o.p.required,o.p.minLength(3)]],email:["",[o.p.required,o.p.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],password:["",o.p.required],confirmPassword:["",o.p.required]},{validator:k})}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onRegisterSubmit",value:function(){var e=this;if(this.registerForm.invalid)return this.flashMessage.show("Invalid info",{cssClass:"alert-danger",timeout:3e3});this.authService.adminRegister(this.registerForm.value).subscribe((function(t){if(!t.success)return e.flashMessage.show(t.msg,{cssClass:"alert-danger",timeout:3e3});e.flashMessage.show(t.msg,{cssClass:"alert-success",timeout:3e3}),e.router.navigate(["/admin"])}),(function(t){return console.log("There was an error"),401===t.status&&e.flashMessage.show("Invalid info",{cssClass:"alert-danger",timeout:3e3})}))}}]),e}()).\u0275fac=function(e){return new(e||R)(l["\u0275\u0275directiveInject"](o.c),l["\u0275\u0275directiveInject"](u.a),l["\u0275\u0275directiveInject"](c.f),l["\u0275\u0275directiveInject"](E.FlashMessagesService))},R.\u0275cmp=l["\u0275\u0275defineComponent"]({type:R,selectors:[["app-admin-register"]],decls:34,vars:5,consts:[["id","login"],[1,"container","my-5"],["id","login-row",1,"row","justify-content-center","align-items-center"],["id","login-column",1,"col-md-6"],["id","login-box",1,"col-md-12"],["id","login-form",1,"form",3,"formGroup","submit"],[1,"text-center","text-primary"],[1,"form-group"],["for","name",1,"text-primary"],["formControlName","name","type","text","name","name","id","name",1,"form-control"],[4,"ngIf"],["for","username",1,"text-primary"],["formControlName","email","type","email","name","email","id","email",1,"form-control"],["for","password",1,"text-primary"],["formControlName","password","type","password","name","password","id","password",1,"form-control"],["class","text-danger",4,"ngIf"],["for","confirmPassword",1,"text-primary"],["formControlName","confirmPassword","type","password","name","confirmPassword","id","confirmPassword",1,"form-control"],["type","submit","name","submit","value","Register",1,"btn","btn-full","btn-primary"],[1,"text-danger"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"div",4),l["\u0275\u0275elementStart"](5,"form",5),l["\u0275\u0275listener"]("submit",(function(){return t.onRegisterSubmit()})),l["\u0275\u0275elementStart"](6,"h3",6),l["\u0275\u0275text"](7,"Admin Register"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"div",7),l["\u0275\u0275elementStart"](9,"label",8),l["\u0275\u0275text"](10,"Name:"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](11,"br"),l["\u0275\u0275element"](12,"input",9),l["\u0275\u0275template"](13,j,3,2,"div",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"div",7),l["\u0275\u0275elementStart"](15,"label",11),l["\u0275\u0275text"](16,"Email:"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](17,"br"),l["\u0275\u0275element"](18,"input",12),l["\u0275\u0275template"](19,A,3,2,"div",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"div",7),l["\u0275\u0275elementStart"](21,"label",13),l["\u0275\u0275text"](22,"Password:"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](23,"br"),l["\u0275\u0275element"](24,"input",14),l["\u0275\u0275template"](25,q,2,0,"small",15),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"div",7),l["\u0275\u0275elementStart"](27,"label",16),l["\u0275\u0275text"](28,"Confirm Password:"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](29,"br"),l["\u0275\u0275element"](30,"input",17),l["\u0275\u0275template"](31,N,2,0,"small",15),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](32,"div",7),l["\u0275\u0275element"](33,"input",18),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("formGroup",t.registerForm),l["\u0275\u0275advance"](8),l["\u0275\u0275property"]("ngIf",t.registerForm.get("name").invalid&&t.registerForm.get("name").touched),l["\u0275\u0275advance"](6),l["\u0275\u0275property"]("ngIf",t.registerForm.get("email").invalid&&t.registerForm.get("email").touched),l["\u0275\u0275advance"](6),l["\u0275\u0275property"]("ngIf",(null==t.registerForm.get("password").errors?null:t.registerForm.get("password").errors.required)&&t.registerForm.get("password").touched),l["\u0275\u0275advance"](6),l["\u0275\u0275property"]("ngIf",null==t.registerForm.errors?null:t.registerForm.errors.misMatch))},directives:[o.r,o.i,o.e,o.b,o.h,o.d,i.NgIf],styles:[".form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#ced4da}"]}),R);function D(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"small",15),l["\u0275\u0275text"](1,"Enter a valid email"),l["\u0275\u0275elementEnd"]())}function z(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275template"](1,D,2,0,"small",14),l["\u0275\u0275elementEnd"]()),2&e){var n=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",null==n.loginForm.get("email").errors?null:n.loginForm.get("email").errors.pattern)}}var L,V,G,J=((L=function(){function e(t,n,r,s){_classCallCheck(this,e),this.fb=t,this.authService=n,this.router=r,this.flashMessage=s,this.loginForm=this.fb.group({email:["",[o.p.required,o.p.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],password:["",o.p.required]})}return _createClass(e,[{key:"ngOnInit",value:function(){this.authService.loggedIn&&this.router.navigate(["/admin"])}},{key:"onLoginSubmit",value:function(){var e=this;if(this.loginForm.invalid)return this.flashMessage.show("Invalid email or password",{cssClass:"alert-danger",timeout:3e3});this.authService.adminLogin(this.loginForm.value).subscribe((function(t){if(t.success&&(localStorage.setItem("a_token",t.token),e.flashMessage.show("You are logged in",{cssClass:"alert-success mb-0",timeout:3e3}),e.router.navigate(["/admin"])),!t.success)return e.flashMessage.show(t.msg,{cssClass:"alert-danger",timeout:3e3})}),(function(t){return 401===t.status&&e.flashMessage.show("An error occured",{cssClass:"alert-danger",timeout:3e3})}))}}]),e}()).\u0275fac=function(e){return new(e||L)(l["\u0275\u0275directiveInject"](o.c),l["\u0275\u0275directiveInject"](u.a),l["\u0275\u0275directiveInject"](c.f),l["\u0275\u0275directiveInject"](E.FlashMessagesService))},L.\u0275cmp=l["\u0275\u0275defineComponent"]({type:L,selectors:[["app-admin-login"]],decls:21,vars:2,consts:[["id","login"],[1,"container","my-5"],["id","login-row",1,"row","justify-content-center","align-items-center"],["id","login-column",1,"col-md-6"],["id","login-box",1,"col-md-12"],["id","login-form",1,"form",3,"formGroup","submit"],[1,"text-center","text-primary"],[1,"form-group"],["for","username",1,"text-primary"],["formControlName","email","type","email","name","email","id","email",1,"form-control"],[4,"ngIf"],["for","password",1,"text-primary"],["formControlName","password","type","password","name","password","id","password",1,"form-control"],["type","submit","name","submit","value","Login",1,"btn","btn-full","btn-primary"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",0),l["\u0275\u0275elementStart"](1,"div",1),l["\u0275\u0275elementStart"](2,"div",2),l["\u0275\u0275elementStart"](3,"div",3),l["\u0275\u0275elementStart"](4,"div",4),l["\u0275\u0275elementStart"](5,"form",5),l["\u0275\u0275listener"]("submit",(function(){return t.onLoginSubmit()})),l["\u0275\u0275elementStart"](6,"h3",6),l["\u0275\u0275text"](7,"Admin Login"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"div",7),l["\u0275\u0275elementStart"](9,"label",8),l["\u0275\u0275text"](10,"Email:"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](11,"br"),l["\u0275\u0275element"](12,"input",9),l["\u0275\u0275template"](13,z,2,1,"div",10),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"div",7),l["\u0275\u0275elementStart"](15,"label",11),l["\u0275\u0275text"](16,"Password:"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](17,"br"),l["\u0275\u0275element"](18,"input",12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](19,"div",7),l["\u0275\u0275element"](20,"input",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("formGroup",t.loginForm),l["\u0275\u0275advance"](8),l["\u0275\u0275property"]("ngIf",t.loginForm.get("email").invalid&&t.loginForm.get("email").touched))},directives:[o.r,o.i,o.e,o.b,o.h,o.d,i.NgIf],styles:[".form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#ced4da}"]}),L),T=n("Rpy1"),Z=[{path:"",component:g,canActivate:[T.a]},{path:"messages",component:b,canActivate:[T.a]},{path:"orders",component:M,canActivate:[T.a]},{path:"login",component:J},{path:"register",component:B,canActivate:[T.a]},{path:"posts",loadChildren:function(){return n.e(6).then(n.bind(null,"kahe")).then((function(e){return e.PostModule}))},canActivate:[T.a]}],$=((G=function e(){_classCallCheck(this,e)}).\u0275mod=l["\u0275\u0275defineNgModule"]({type:G}),G.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||G)},imports:[[c.j.forChild(Z)],c.j]}),G),Y=((V=function e(){_classCallCheck(this,e)}).\u0275mod=l["\u0275\u0275defineNgModule"]({type:V}),V.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(e){return new(e||V)},providers:[T.a],imports:[[i.CommonModule,$,o.g,o.m,m]]}),V)}}]);